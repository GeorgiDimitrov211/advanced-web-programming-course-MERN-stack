(this["webpackJsonpq-and-a"]=this["webpackJsonpq-and-a"]||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},24:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(11),o=n.n(i),u=n(2),r=n(3),l=n(5),c=n(4),h=n(6),m=n(1),d=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[];return this.props.questions.forEach((function(t){e.push(a.a.createElement(m.a,{to:t.slug,key:t.slug},a.a.createElement("div",{className:"question"},a.a.createElement("h2",{className:"question__title"},t.title),a.a.createElement("div",{className:"question__additional-info"},a.a.createElement("div",{className:"question__additional-info-answers"},"Answers: ",t.answers.length),function(){if(t.solved)return a.a.createElement("div",{className:"question__additional-info-solved"},"Solved")}()))))})),a.a.createElement("div",null,a.a.createElement("div",{className:"questions"},e),a.a.createElement("div",{className:"questions"},"You didn't find the answer of your question?",a.a.createElement(m.a,{to:"ask"}," Ask a question")))}}]),t}(a.a.Component),v=n(7),p=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={question:{title:""}},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._asyncRequest=this.props.getQuestion(this.props.questionSlug).then((function(t){return e._asyncRequest=null,t.json()})).then((function(t){e.setState({question:t})}))}},{key:"componentWillUnmount",value:function(){this._asyncRequest&&this._asyncRequest.cancel()}},{key:"handleChange",value:function(e,t){if(t.target.checked){this.props.voteForAnswer(this.state.question.slug,this.state.question.answers[e].slug,Number(this.state.question.answers[e].voteNumber)+1);var n=this.state.question;this.newQuestion.answers[e].voteNumber++,this.setState({question:n})}else{this.props.voteForAnswer(this.state.question.slug,this.state.question.answers[e].slug,Number(this.state.question.answers[e].voteNumber)-1);var s=this.state.question;this.newQuestion.answers[e].voteNumber--,this.setState({question:s})}}},{key:"render",value:function(){var e=this;if(null===this.state.question)return"Loading";var t=[];return this.state.question.answers&&(this.state.question.answers.sort((function(e,t){return t.voteNumber-e.voteNumber})),this.state.question.answers.forEach((function(n,s){t.push(a.a.createElement("div",{key:s},a.a.createElement("h4",null,"Answer ",s+1),a.a.createElement("p",null,n.title),a.a.createElement("p",null,"This answer is correct according to ",n.voteNumber," ","developers"),a.a.createElement("form",null,a.a.createElement("label",null,"Vote"),a.a.createElement("input",{type:"checkbox",value:!0,onChange:function(t){return e.handleChange(s,t)}}))))}))),a.a.createElement("div",{className:"question"},a.a.createElement("h2",{className:"question__title"},this.state.question.title),a.a.createElement("div",{className:"question__answers"},t),a.a.createElement(m.a,{to:"post-answer"},a.a.createElement("div",null,"You know the answer?")),a.a.createElement(m.a,{to:"/"},"Go back"))}}]),t}(a.a.Component),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={newQuestion:{slug:"",title:""}},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"ask-question"},a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{className:"ask-question__question"},a.a.createElement("label",{htmlFor:"question"},"Question"),a.a.createElement("input",{value:this.state.newQuestion.title,name:"question",type:"text",onChange:this.handleChange})),a.a.createElement("div",{className:"ask-question__submit-button"},a.a.createElement("input",{type:"submit",value:"Ask"}))),a.a.createElement(m.a,{to:"/questions"},"Go back"))}},{key:"handleChange",value:function(e){this.setState({newQuestion:{title:e.target.value}})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.newQuestion.title&&(this.props.addQuestion({title:this.state.newQuestion.title}),this.setState({newQuestion:{title:""}}),Object(m.d)("/"))}}]),t}(a.a.Component),f=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={newAnswer:"",question:{title:""}},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._asyncRequest=this.props.getQuestion(this.props.questionSlug).then((function(t){return e._asyncRequest=null,t.json()})).then((function(t){console.log(t),e.setState({question:t})}))}},{key:"componentWillUnmount",value:function(){this._asyncRequest&&this._asyncRequest.cancel()}},{key:"render",value:function(){return null===this.state.question?"Loading":a.a.createElement("div",{className:"post-answer"},a.a.createElement("h2",null,this.state.question.title),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{className:"post-answer__answer"},a.a.createElement("label",{htmlFor:"answer"},"Answer"),a.a.createElement("textarea",{value:this.state.newAnswer,name:"answer",onChange:this.handleChange})),a.a.createElement("div",{className:"post-answer__submit-button"},a.a.createElement("input",{type:"submit",value:"Post"}))),a.a.createElement(m.a,{to:"/questions"},"Go back"))}},{key:"handleChange",value:function(e){this.setState({newAnswer:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.newAnswer){var t={title:this.state.newAnswer,voteNumber:0};this.props.addAnswer(t,this.state.question.slug),this.setState({newAnswer:""}),Object(m.d)("/questions")}}}]),t}(a.a.Component),q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={questions:[]},n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getAllQuestions()}},{key:"getAllQuestions",value:function(){var e=this;fetch("http://localhost:8080/api/questions").then((function(e){return e.json()})).then((function(t){e.setState({questions:t})}))}},{key:"getQuestion",value:function(e){return fetch("http://localhost:8080/api/questions/".concat(e))}},{key:"addQuestion",value:function(e){var t=this;fetch("http://localhost:8080/api/questions",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t.setState({questions:e})}))}},{key:"addAnswer",value:function(e,t){var n=this;fetch("http://localhost:8080/api/questions/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){n.setState({questions:e}),Object(m.d)("/questions/".concat(t))}))}},{key:"voteForAnswer",value:function(e,t,n){var s=this;fetch("http://localhost:8080/api/questions/".concat(e,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newVoteNumber:n})}).then((function(e){return e.json()})).then((function(t){s.setState({questions:t}),Object(m.d)("/questions/".concat(e))}))}},{key:"render",value:function(){var e=this;return a.a.createElement(m.c,null,a.a.createElement(m.b,{from:"/",to:"/questions",noThrow:!0}),a.a.createElement(d,{path:"/questions",questions:this.state.questions}),a.a.createElement(p,{path:"/questions/:questionSlug",getQuestion:function(t){return e.getQuestion(t)},voteForAnswer:function(t,n,s){return e.voteForAnswer(t,n,s)}}),a.a.createElement(b,{path:"/questions/ask",addQuestion:function(t){return e.addQuestion(t)}}),a.a.createElement(f,{path:"/questions/:questionSlug/post-answer",getQuestion:function(t){return e.getQuestion(t)},addAnswer:function(t,n){return e.addAnswer(t,n)}}))}}]),t}(a.a.Component);o.a.render(a.a.createElement(q,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.d6e42aef.chunk.js.map